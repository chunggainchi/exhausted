(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[794],{610:(e,t,n)=>{"use strict";n.d(t,{default:()=>g});var l=n(1862),i=n(9782);function r(e,t,n,l,i){for(let n=0;n<i;n++)if(e[t][n]===l)return!1;for(let t=0;t<i;t++)if(e[t][n]===l)return!1;if(4===i){let i=2*Math.floor(t/2),r=2*Math.floor(n/2);for(let t=0;t<2;t++)for(let n=0;n<2;n++)if(e[i+t][r+n]===l)return!1}return!0}function a(e){return e.flat().filter(e=>null!==e).length}class s{init(){this.ctx||(this.ctx=new(window.AudioContext||window.webkitAudioContext)),"suspended"===this.ctx.state&&this.ctx.resume()}playTone(e,t,n){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(this.ctx||this.init(),!this.ctx)return;let i=this.ctx.createOscillator(),r=this.ctx.createGain();i.type=t,i.frequency.setValueAtTime(e,this.ctx.currentTime+l),r.gain.setValueAtTime(.1,this.ctx.currentTime+l),r.gain.exponentialRampToValueAtTime(.01,this.ctx.currentTime+l+n),i.connect(r),r.connect(this.ctx.destination),i.start(this.ctx.currentTime+l),i.stop(this.ctx.currentTime+l+n)}playPop(){this.playTone(600,"sine",.1)}playDing(){this.playTone(800,"sine",.3),this.playTone(1200,"sine",.3,.1)}playError(){this.playTone(150,"sawtooth",.2)}playFanfare(){[523.25,659.25,783.99,1046.5].forEach((e,t)=>{this.playTone(e,"square",.2,.1*t)}),this.playTone(1046.5,"square",.6,.4)}constructor(){this.ctx=null,this.ctx=new(window.AudioContext||window.webkitAudioContext)}}let o=new s;function c(e){let{onSelectLevel:t}=e;return(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[60vh] gap-8 p-4",children:[(0,l.jsx)("h2",{className:"text-3xl font-bold text-white mb-8 text-center",children:"W\xe4hle ein Level"}),(0,l.jsx)("button",{onClick:()=>t(3),className:"w-64 py-6 bg-green-500 hover:bg-green-400 text-white rounded-2xl text-2xl font-bold shadow-[0_8px_0_rgb(21,128,61)] active:shadow-none active:translate-y-2 transition-all",children:"Einfach (1-3)"}),(0,l.jsx)("button",{onClick:()=>t(4),className:"w-64 py-6 bg-blue-500 hover:bg-blue-400 text-white rounded-2xl text-2xl font-bold shadow-[0_8px_0_rgb(29,78,216)] active:shadow-none active:translate-y-2 transition-all",children:"Mittel (1-4)"}),(0,l.jsx)("button",{onClick:()=>t(5),className:"w-64 py-6 bg-purple-500 hover:bg-purple-400 text-white rounded-2xl text-2xl font-bold shadow-[0_8px_0_rgb(126,34,206)] active:shadow-none active:translate-y-2 transition-all",children:"Schwer (1-5)"})]})}var h=n(2220);let d=["","text-red-500","text-blue-500","text-green-500","text-yellow-600","text-purple-500"];function u(e){let{board:t,initialBoard:n,size:i,selectedCell:r,onCellClick:a,invalidCell:s}=e;return(0,l.jsx)("div",{className:"grid gap-2 p-4 bg-white/10 rounded-2xl backdrop-blur-sm mx-auto",style:{gridTemplateColumns:"repeat(".concat(i,", 1fr)"),maxWidth:"min(90vw, 400px)"},children:t.map((e,t)=>e.map((e,o)=>{let c=null!==n[t][o],u=(null==r?void 0:r.row)===t&&(null==r?void 0:r.col)===o,x=(null==s?void 0:s.row)===t&&(null==s?void 0:s.col)===o,f="";return 4===i&&(1===o&&(f+=" border-r-4 border-zinc-400/50"),1===t&&(f+=" border-b-4 border-zinc-400/50")),(0,l.jsx)(h.P.button,{onClick:()=>a(t,o),animate:x?{x:[-5,5,-5,5,0]}:{},transition:{duration:.4},className:"\n                aspect-square rounded-lg flex items-center justify-center text-3xl font-bold\n                transition-all relative\n                ".concat(c?"bg-zinc-200":"bg-white","\n                ").concat(u?"ring-4 ring-green-400 z-10 scale-105":"","\n                ").concat(f,"\n              "),disabled:c,children:null!==e&&(0,l.jsx)("span",{className:d[e],children:e})},"".concat(t,"-").concat(o))}))})}let x=["","bg-red-500 shadow-red-700","bg-blue-500 shadow-blue-700","bg-green-500 shadow-green-700","bg-yellow-500 shadow-yellow-700","bg-purple-500 shadow-purple-700"];function f(e){let{size:t,onNumberClick:n}=e,i=Array.from({length:t},(e,t)=>t+1);return(0,l.jsx)("div",{className:"flex gap-4 justify-center w-full max-w-md mx-auto p-4",children:i.map(e=>(0,l.jsx)("button",{onClick:()=>n(e),className:"\n            flex-1 aspect-square max-w-[80px] rounded-xl text-3xl font-bold text-white\n            ".concat(x[e],"\n            shadow-[0_6px_0_rgba(0,0,0,0.2)]\n            active:shadow-none active:translate-y-1.5\n            transition-all\n          "),children:e},e))})}function m(){let e=(0,i.useRef)(null);return(0,i.useEffect)(()=>{let t,n=e.current;if(!n)return;let l=n.getContext("2d");if(!l)return;n.width=window.innerWidth,n.height=window.innerHeight;let i=[],r=["#ef4444","#3b82f6","#22c55e","#eab308","#a855f7","#ec4899"];class a{update(){this.y+=this.speedY,this.x+=this.speedX,this.rotation+=this.rotationSpeed,this.y>n.height&&(this.y=-20,this.x=Math.random()*n.width)}draw(){l&&(l.save(),l.translate(this.x,this.y),l.rotate(this.rotation*Math.PI/180),l.fillStyle=this.color,l.fillRect(-this.size/2,-this.size/2,this.size,this.size),l.restore())}constructor(){this.x=Math.random()*n.width,this.y=Math.random()*n.height-n.height,this.size=10*Math.random()+5,this.speedY=3*Math.random()+2,this.speedX=2*Math.random()-1,this.color=r[Math.floor(Math.random()*r.length)],this.rotation=360*Math.random(),this.rotationSpeed=5*Math.random()-2.5}}for(let e=0;e<150;e++)i.push(new a);let s=()=>{l.clearRect(0,0,n.width,n.height),i.forEach(e=>{e.update(),e.draw()}),t=requestAnimationFrame(s)};s();let o=()=>{n.width=window.innerWidth,n.height=window.innerHeight};return window.addEventListener("resize",o),()=>{cancelAnimationFrame(t),window.removeEventListener("resize",o)}},[]),(0,l.jsx)("canvas",{ref:e,className:"fixed inset-0 pointer-events-none z-50"})}var p=n(8122);let w=(0,p.A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),b=(0,p.A)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);function g(){let[e,t]=(0,i.useState)(null),[n,s]=(0,i.useState)([]),[h,d]=(0,i.useState)([]),[x,p]=(0,i.useState)(null),[g,y]=(0,i.useState)(null),[v,j]=(0,i.useState)(!1),N=(0,i.useCallback)(e=>{let{initial:n}=function(e){let t,n=Array.from({length:e},()=>Array(e).fill(null));!function e(t,n){for(let l=0;l<n;l++)for(let i=0;i<n;i++)if(null===t[l][i]){for(let a of Array.from({length:n},(e,t)=>t+1).sort(()=>Math.random()-.5))if(r(t,l,i,a,n)){if(t[l][i]=a,e(t,n))return!0;t[l][i]=null}return!1}return!0}(n,e);let l=n.map(e=>[...e]);t=3===e?4:4===e?6:5===e?8:Math.floor(e*e*.4);let i=e*e*2;for(;i>0&&a(l)>t;){let t=Math.floor(Math.random()*e),n=Math.floor(Math.random()*e);null!==l[t][n]&&(l[t][n]=null),i--}return{initial:l,solved:n}}(e);s(n.map(e=>[...e])),d(n.map(e=>[...e])),t(e),j(!1),p(null),o.playPop()},[]);return e?(0,l.jsxs)("div",{className:"min-h-screen bg-zinc-900 flex flex-col items-center py-8 relative overflow-hidden",children:[v&&(0,l.jsx)(m,{}),(0,l.jsxs)("div",{className:"w-full max-w-md px-4 flex justify-between items-center mb-8",children:[(0,l.jsx)("button",{onClick:()=>t(null),className:"p-2 bg-white/10 rounded-full text-white hover:bg-white/20 transition-colors",children:(0,l.jsx)(w,{size:24})}),(0,l.jsxs)("h1",{className:"text-2xl font-bold text-white",children:["Level 1-",e]}),(0,l.jsx)("button",{onClick:()=>N(e),className:"p-2 bg-white/10 rounded-full text-white hover:bg-white/20 transition-colors",children:(0,l.jsx)(b,{size:24})})]}),(0,l.jsx)("div",{className:"flex-1 flex flex-col justify-center w-full",children:(0,l.jsx)(u,{board:n,initialBoard:h,size:e,selectedCell:x,onCellClick:(e,t)=>{null===h[e][t]&&(p({row:e,col:t}),o.playPop())},invalidCell:g})}),(0,l.jsx)("div",{className:"mt-auto w-full pb-8",children:(0,l.jsx)(f,{size:e,onNumberClick:t=>{if(!x||null===e)return;let{row:l,col:i}=x;if(r(n,l,i,t,e)){let c=n.map(e=>[...e]);c[l][i]=t,s(c),o.playDing(),function(e,t){if(a(e)!==t*t)return!1;for(let n=0;n<t;n++)for(let l=0;l<t;l++){let i=e[n][l];if(null===i)return!1;e[n][l]=null;let a=r(e,n,l,i,t);if(e[n][l]=i,!a)return!1}return!0}(c,e)&&(j(!0),o.playFanfare())}else y({row:l,col:i}),o.playError(),setTimeout(()=>y(null),500)}})}),v&&(0,l.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 backdrop-blur-sm z-40",children:(0,l.jsxs)("div",{className:"bg-white p-8 rounded-3xl text-center shadow-2xl transform scale-110",children:[(0,l.jsx)("h2",{className:"text-4xl font-bold text-green-500 mb-4",children:"Super! \uD83C\uDF89"}),(0,l.jsx)("p",{className:"text-zinc-600 mb-8 text-xl",children:"Du hast es geschafft!"}),(0,l.jsx)("button",{onClick:()=>N(e),className:"px-8 py-4 bg-green-500 text-white rounded-xl text-xl font-bold hover:bg-green-400 transition-colors shadow-lg",children:"Nochmal spielen"})]})})]}):(0,l.jsx)(c,{onSelectLevel:N})}},4213:(e,t,n)=>{Promise.resolve().then(n.bind(n,610))}},e=>{var t=t=>e(e.s=t);e.O(0,[67,29,493,358],()=>t(4213)),_N_E=e.O()}]);