{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/sharonchung/exhausted-1/src/components/solar/SolarSystem.tsx"],"sourcesContent":["\n'use client';\n\nimport React, { useState, useEffect, useRef, useMemo, Suspense } from 'react';\nimport { Canvas, useFrame, useThree } from '@react-three/fiber';\nimport { useTexture, Text, OrbitControls, Stars, Loader, Preload } from '@react-three/drei';\nimport * as THREE from 'three';\n\n// --- TYPES ---\ninterface PlanetData {\n    id: string;\n    name: string;\n    color: string;\n    size: number;\n    distance: number;\n    speed: number;\n    rotationSpeed: number;\n    textureUrl: string;\n    description: string;\n    funFact: string;\n    temp: string;\n    moonsCount: number;\n    realSize: string;\n    travelTime?: string;\n    inclination?: number;\n    orbitAU: number;\n    radiusMultiplier: number;\n    hasRings?: boolean;\n    moons?: MoonData[];\n    // Dynamic props for display\n    useRealDist?: boolean;\n    useRealSize?: boolean;\n}\n\ninterface MoonData {\n    size: number;\n    distance: number;\n    speed: number;\n    color: string;\n    // Dynamic props\n    useRealDist?: boolean;\n    useRealSize?: boolean;\n}\n\n// --- CONSTANTS & DATA ---\n// Using local texture assets\nconst TEXTURE_BASE = '/textures';\n\nconst PLANETS: PlanetData[] = [\n    {\n        id: 'mercury',\n        name: 'Mercury',\n        color: '#E0E0E0',\n        size: 0.8,\n        distance: 12,\n        speed: 8.26e-7,\n        rotationSpeed: 1.24e-6,\n        textureUrl: `${TEXTURE_BASE}/Mercury.jpg`,\n        travelTime: \"~3 Months\",\n        inclination: 7.0,\n        orbitAU: 0.39,\n        radiusMultiplier: 0.38,\n        description: \"The smallest planet in our solar system.\",\n        funFact: \"A year on Mercury is only 88 Earth days!\",\n        temp: \"üî•üî•üî•\",\n        moonsCount: 0,\n        realSize: \"0.38x Earth\"\n    },\n    {\n        id: 'venus',\n        name: 'Venus',\n        color: '#E3BB76',\n        size: 1.5,\n        distance: 18,\n        speed: 3.23e-7,\n        rotationSpeed: -2.99e-7,\n        textureUrl: `${TEXTURE_BASE}/Venus.jpg`,\n        travelTime: \"~4 Months\",\n        inclination: 3.4,\n        orbitAU: 0.72,\n        radiusMultiplier: 0.95,\n        description: \"The hottest planet.\",\n        funFact: \"A day on Venus is longer than a year!\",\n        temp: \"üî•üî•üî•üî•\",\n        moonsCount: 0,\n        realSize: \"0.95x Earth\"\n    },\n    {\n        id: 'earth',\n        name: 'Earth',\n        color: '#2233FF',\n        size: 1.6,\n        distance: 26,\n        speed: 1.99e-7,\n        rotationSpeed: 7.27e-5,\n        textureUrl: `${TEXTURE_BASE}/Earth.jpg`,\n        travelTime: \"0\",\n        inclination: 0,\n        orbitAU: 1.00,\n        radiusMultiplier: 1.00,\n        description: \"Our home planet, the only known world with life.\",\n        funFact: \"Earth is the only planet not named after a god!\",\n        temp: \"üåøüòé\",\n        moonsCount: 1,\n        realSize: \"1x Earth\",\n        moons: [{ size: 0.45, distance: 3.5, speed: 2.66e-6, color: '#DDDDDD' }]\n    },\n    {\n        id: 'mars',\n        name: 'Mars',\n        color: '#D14A28',\n        size: 1.1,\n        distance: 34,\n        speed: 1.05e-7,\n        rotationSpeed: 7.08e-5,\n        textureUrl: `${TEXTURE_BASE}/Mars.jpg`,\n        travelTime: \"~7 Months\",\n        inclination: 1.85,\n        orbitAU: 1.52,\n        radiusMultiplier: 0.53,\n        description: \"The Red Planet.\",\n        funFact: \"Mars has the tallest volcano in the solar system!\",\n        temp: \"‚ùÑÔ∏è\",\n        moonsCount: 2,\n        realSize: \"0.53x Earth\"\n    },\n    {\n        id: 'jupiter',\n        name: 'Jupiter',\n        color: '#D8CA9D',\n        size: 4.5,\n        distance: 55,\n        speed: 1.67e-8,\n        rotationSpeed: 1.76e-4,\n        textureUrl: `${TEXTURE_BASE}/Jupiter.jpg`,\n        travelTime: \"~5 Years\",\n        inclination: 1.3,\n        orbitAU: 5.20,\n        radiusMultiplier: 11.2,\n        description: \"The largest planet in our solar system.\",\n        funFact: \"You can fit 1,300 Earths inside Jupiter!\",\n        temp: \"‚ùÑÔ∏è‚ùÑÔ∏è\",\n        moonsCount: 79,\n        realSize: \"11.2x Earth\"\n    },\n    {\n        id: 'saturn',\n        name: 'Saturn',\n        color: '#F4D03F',\n        size: 3.8,\n        distance: 75,\n        speed: 6.75e-9,\n        rotationSpeed: 1.64e-4,\n        textureUrl: `${TEXTURE_BASE}/Saturn.jpg`,\n        travelTime: \"~7 Years\",\n        inclination: 2.5,\n        orbitAU: 9.58,\n        radiusMultiplier: 9.45,\n        hasRings: true,\n        description: \"Lord of the Rings.\",\n        funFact: \"Saturn could float in a giant bathtub!\",\n        temp: \"‚ùÑÔ∏è‚ùÑÔ∏è‚ùÑÔ∏è\",\n        moonsCount: 82,\n        realSize: \"9.45x Earth\"\n    },\n    {\n        id: 'uranus',\n        name: 'Uranus',\n        color: '#4FD0E7',\n        size: 2.6,\n        distance: 92,\n        speed: 2.37e-9,\n        rotationSpeed: -1.01e-4,\n        textureUrl: `${TEXTURE_BASE}/Uranus.jpg`,\n        travelTime: \"~9 Years\",\n        inclination: 0.77,\n        orbitAU: 19.2,\n        radiusMultiplier: 4.0,\n        description: \"The Ice Giant.\",\n        funFact: \"Uranus spins on its side like a ball.\",\n        temp: \"‚ùÑÔ∏è‚ùÑÔ∏è‚ùÑÔ∏è‚ùÑÔ∏è\",\n        moonsCount: 27,\n        realSize: \"4.0x Earth\"\n    },\n    {\n        id: 'neptune',\n        name: 'Neptune',\n        color: '#2E5D9C',\n        size: 2.5,\n        distance: 110,\n        speed: 1.20e-9,\n        rotationSpeed: 1.08e-4,\n        textureUrl: `${TEXTURE_BASE}/Neptune.jpg`,\n        travelTime: \"~12 Years\",\n        inclination: 1.77,\n        orbitAU: 30.05,\n        radiusMultiplier: 3.88,\n        description: \"The Windiest One.\",\n        funFact: \"Neptune has the strongest winds in the solar system!\",\n        temp: \"‚ùÑÔ∏è‚ùÑÔ∏è‚ùÑÔ∏è‚ùÑÔ∏è‚ùÑÔ∏è\",\n        moonsCount: 14,\n        realSize: \"3.88x Earth\"\n    }\n];\n\nconst TIME_SPEEDS = [\n    { value: 1, label: '1s/s' }, // Real Time\n    { value: 60, label: '1m/s' },\n    { value: 3600, label: '1h/s' },\n    { value: 86400, label: '1d/s' }, // Default\n    { value: 604800, label: '1w/s' }\n];\n\nconst SUN_SIZE = 7;\n\n// --- AUDIO SERVICE ---\nconst audioService = new class {\n    bgMusic: HTMLAudioElement | null = null;\n    ctx: AudioContext | null = null;\n\n    constructor() {\n        if (typeof window !== 'undefined') {\n            this.bgMusic = new Audio('/music/space.mp3');\n            this.bgMusic.loop = true;\n            this.bgMusic.volume = 0.5;\n        }\n    }\n\n    getContext() {\n        if (!this.ctx && typeof window !== 'undefined') {\n            this.ctx = new (window.AudioContext || (window as any).webkitAudioContext)();\n        }\n        return this.ctx;\n    }\n\n    playClick() {\n        const ctx = this.getContext();\n        if (!ctx) return;\n        if (ctx.state === 'suspended') ctx.resume();\n\n        const osc = ctx.createOscillator();\n        const gain = ctx.createGain();\n        osc.connect(gain);\n        gain.connect(ctx.destination);\n\n        osc.type = 'sine';\n        osc.frequency.setValueAtTime(1200, ctx.currentTime);\n        osc.frequency.exponentialRampToValueAtTime(800, ctx.currentTime + 0.05);\n\n        gain.gain.setValueAtTime(0.05, ctx.currentTime);\n        gain.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + 0.05);\n\n        osc.start();\n        osc.stop(ctx.currentTime + 0.05);\n    }\n\n    startDrone() {\n        this.bgMusic?.play().catch(e => console.warn(\"Audio autoplay blocked\", e));\n    }\n\n    stopDrone() {\n        this.bgMusic?.pause();\n    }\n}();\n\n// --- SUB COMPONENTS ---\n\nconst Sun: React.FC<{ useRealSize: boolean }> = ({ useRealSize }) => {\n    const meshRef = useRef<THREE.Mesh>(null);\n    const texture = useTexture(`${TEXTURE_BASE}/Sun.jpg`);\n\n    const size = SUN_SIZE; // Sun size is constant, planets scale relative to it\n\n    useFrame((state, delta) => {\n        if (meshRef.current) {\n            meshRef.current.rotation.y += delta * 0.05;\n        }\n    });\n\n    return (\n        <group>\n            {/* Increase light distance for realistic scale */}\n            <pointLight intensity={3.0} decay={0} distance={useRealSize ? 5000 : 300} color=\"#ffaa00\" />\n            <ambientLight intensity={0.3} />\n            <hemisphereLight intensity={0.4} groundColor=\"#000000\" color=\"#443355\" />\n\n            <mesh ref={meshRef}>\n                <sphereGeometry args={[size, 64, 64]} />\n                <meshStandardMaterial\n                    map={texture}\n                    emissive=\"#FFD700\"\n                    emissiveIntensity={0.5}\n                    emissiveMap={texture}\n                    color=\"#ffffff\"\n                />\n            </mesh>\n            <mesh scale={[1.2, 1.2, 1.2]}>\n                <sphereGeometry args={[size, 32, 32]} />\n                <meshBasicMaterial\n                    color=\"#FF4500\"\n                    transparent\n                    opacity={0.1}\n                    depthWrite={false}\n                />\n            </mesh>\n            <Text\n                position={[0, size + (useRealSize ? 10 : 2.5), 0]}\n                fontSize={useRealSize ? 20 : 3}\n                color=\"white\"\n                anchorX=\"center\"\n                anchorY=\"middle\"\n                outlineWidth={0.1}\n                outlineColor=\"#000000\"\n            >\n                Sun\n            </Text>\n        </group>\n    );\n};\n\nconst AsteroidBelt: React.FC<{ useRealDist: boolean; isPlaying: boolean }> = ({ useRealDist, isPlaying }) => {\n    const meshRef = useRef<THREE.InstancedMesh>(null);\n    // Nice mode: Between Mars (34) and Jupiter (55) -> 42-50.\n    // Real mode: Between 2.2 AU (66) and 3.2 AU (96).\n    const count = 1500;\n    const dummy = useMemo(() => new THREE.Object3D(), []);\n\n    useEffect(() => {\n        if (!meshRef.current) return;\n\n        const minR = useRealDist ? 66 : 42;\n        const maxR = useRealDist ? 96 : 50;\n\n        for (let i = 0; i < count; i++) {\n            const angle = Math.random() * Math.PI * 2;\n            const radius = minR + Math.random() * (maxR - minR); // Scaled radius\n            const x = Math.cos(angle) * radius;\n            const z = Math.sin(angle) * radius;\n            const y = (Math.random() - 0.5) * 2; // Slight vertical spread\n            const scale = Math.random() * 0.2 + 0.05;\n\n            dummy.position.set(x, y, z);\n            dummy.rotation.set(Math.random() * Math.PI, Math.random() * Math.PI, Math.random() * Math.PI);\n            dummy.scale.set(scale, scale, scale);\n            dummy.updateMatrix();\n            meshRef.current.setMatrixAt(i, dummy.matrix);\n        }\n        meshRef.current.instanceMatrix.needsUpdate = true;\n    }, [dummy, useRealDist]);\n\n    useFrame((state, delta) => {\n        if (meshRef.current && isPlaying) {\n            meshRef.current.rotation.y += delta * 0.02;\n        }\n    });\n\n    return (\n        <instancedMesh ref={meshRef} args={[undefined, undefined, count]}>\n            <dodecahedronGeometry args={[1, 0]} />\n            <meshStandardMaterial color=\"#666666\" roughness={0.8} />\n        </instancedMesh>\n    );\n};\n\nconst Moon: React.FC<{ data: any, parentSize: number, simTimeRef: React.MutableRefObject<number>, useRealDist: boolean, useRealSize: boolean }> = ({ data, parentSize, simTimeRef, useRealDist, useRealSize }) => {\n    const ref = useRef<THREE.Group>(null);\n    const textureUrl = '/textures/Moon.jpg';\n    const texture = useTexture(textureUrl);\n\n    // Realistic Moon Scaling:\n    // Size: ~27% of Earth (Parent)\n    // Distance: ~60x Earth Radius (Parent Radius)\n    // Only apply real distance scaling if BOTH dist and size are real, otherwise Moon flies off if parent is huge.\n\n    const size = useRealSize ? parentSize * 0.27 : data.size;\n    const distance = (useRealDist && useRealSize) ? parentSize * 60 : data.distance;\n\n    // Calculate orbit geometry once\n    const orbitCurve = useMemo(() => {\n        const radius = parentSize + distance; // Visual radius for the line\n        const curve = new THREE.EllipseCurve(0, 0, radius, radius, 0, 2 * Math.PI, false, 0);\n        const points = curve.getPoints(64);\n        return new THREE.BufferGeometry().setFromPoints(points).rotateX(-Math.PI / 2);\n    }, [parentSize, distance]);\n\n    useFrame(() => {\n        if (ref.current) {\n            const angle = simTimeRef.current * data.speed;\n            ref.current.position.x = Math.cos(angle) * (parentSize + distance);\n            ref.current.position.z = Math.sin(angle) * (parentSize + distance);\n\n            // Tidal Locking: Moon always faces the planet (Parent)\n\n            // Tidal Locking: Moon always faces the planet (Parent)\n            // We must use the parent's WORLD position, because lookAt() expects world coords.\n            // lookAt(0,0,0) was looking at the Sun (World Origin).\n            if (ref.current.parent) {\n                const parentWorldPos = new THREE.Vector3();\n                ref.current.parent.getWorldPosition(parentWorldPos);\n                ref.current.lookAt(parentWorldPos);\n            }\n        }\n    });\n\n    return (\n        <group>\n            {/* Stable Moon Orbit Line */}\n            <lineLoop geometry={orbitCurve}>\n                <lineBasicMaterial attach=\"material\" color=\"#666\" transparent opacity={0.3} />\n            </lineLoop>\n\n            <group ref={ref}>\n                <mesh rotation={[0, Math.PI * 1.5, 0]}>\n                    <sphereGeometry args={[size, 32, 32]} />\n                    <meshStandardMaterial map={texture} roughness={0.9} color=\"#ffffff\" />\n                </mesh>\n                <Text\n                    position={[0, size + 0.8, 0]}\n                    fontSize={0.8}\n                    color=\"#ffffff\"\n                    anchorX=\"center\"\n                    anchorY=\"middle\"\n                    outlineWidth={0.05}\n                    outlineColor=\"#000000\"\n                >\n                    Moon\n                </Text>\n            </group>\n        </group>\n    );\n};\n\nconst Planet: React.FC<{ data: PlanetData; isFocused: boolean; onSelect: (id: string) => void; simTimeRef: React.MutableRefObject<number>; isPlaying: boolean; userLocation?: { lat: number; long: number } | null }> = ({ data, isFocused, onSelect, simTimeRef, isPlaying, userLocation }) => {\n    const meshRef = useRef<THREE.Mesh>(null);\n    const orbitRef = useRef<THREE.Group>(null);\n\n    // Apply Orbital Inclination\n    const inclinationRad = THREE.MathUtils.degToRad(data.inclination || 0);\n\n    const texture = useTexture(data.textureUrl);\n\n    const orbitCurve = useMemo(() => {\n        const points = [];\n        for (let i = 0; i <= 128; i++) {\n            const angle = (i / 128) * Math.PI * 2;\n            points.push(new THREE.Vector3(Math.cos(angle) * data.distance, 0, Math.sin(angle) * data.distance));\n        }\n        return new THREE.BufferGeometry().setFromPoints(points);\n    }, [data.distance]);\n\n    const initialAngle = data.distance * 0.5;\n\n    const isGasGiant = ['jupiter', 'saturn', 'uranus', 'neptune'].includes(data.id);\n    const isEarth = data.id === 'earth';\n    const roughness = isEarth ? 0.5 : (isGasGiant ? 0.4 : 0.9);\n    const metalness = isEarth ? 0.1 : 0.0;\n\n    useFrame((state, delta) => {\n        if (orbitRef.current) {\n            const time = simTimeRef.current;\n            const angle = initialAngle + (time * data.speed * 0.1);\n\n            orbitRef.current.position.x = Math.cos(angle) * data.distance;\n            orbitRef.current.position.z = Math.sin(angle) * data.distance;\n\n            // Rotate planet based on sim time\n            if (meshRef.current) {\n                meshRef.current.rotation.y = time * data.rotationSpeed;\n            }\n        }\n    });\n\n    return (\n        <group rotation={[inclinationRad, 0, 0]}>\n            <lineLoop geometry={orbitCurve}>\n                <lineBasicMaterial attach=\"material\" color={isFocused ? \"#aaa\" : \"#555\"} transparent opacity={isFocused ? 0.6 : 0.4} />\n            </lineLoop>\n\n            <group ref={orbitRef}>\n                <group onClick={(e) => { e.stopPropagation(); onSelect(data.id); }}>\n\n                    <Text\n                        position={[0, data.size + 1.8, 0]}\n                        fontSize={Math.max(1.5, data.size * 0.6)}\n                        color=\"white\"\n                        anchorX=\"center\"\n                        anchorY=\"middle\"\n                        outlineWidth={0.1}\n                        outlineColor=\"#000000\"\n                    >\n                        {data.name}\n                    </Text>\n\n                    <mesh ref={meshRef}>\n                        <sphereGeometry args={[data.size, 64, 64]} />\n                        <meshStandardMaterial\n                            map={texture}\n                            metalness={metalness}\n                            roughness={roughness}\n                            emissive={isFocused ? \"#111111\" : \"#000000\"}\n                            emissiveIntensity={isFocused ? 0.2 : 0}\n                        />\n                        {data.id === 'earth' && userLocation && (\n                            <mesh position={[\n                                data.size * Math.cos(THREE.MathUtils.degToRad(userLocation.lat)) * Math.sin(THREE.MathUtils.degToRad(userLocation.long + 90)),\n                                data.size * Math.sin(THREE.MathUtils.degToRad(userLocation.lat)),\n                                data.size * Math.cos(THREE.MathUtils.degToRad(userLocation.lat)) * Math.cos(THREE.MathUtils.degToRad(userLocation.long + 90))\n                            ]}>\n                                <sphereGeometry args={[data.size * 0.03, 16, 16]} />\n                                <meshBasicMaterial color=\"#ff0000\" toneMapped={false} />\n                                <pointLight distance={data.size * 0.5} intensity={5} color=\"#ff0000\" />\n                            </mesh>\n                        )}\n                    </mesh>\n\n                    {isFocused && <pointLight intensity={1.5} distance={50} decay={2} color=\"#ffffff\" />}\n\n                    {(data.id === 'venus' || isGasGiant) && !isFocused && (\n                        <mesh scale={[1.05, 1.05, 1.05]}>\n                            <sphereGeometry args={[data.size, 32, 32]} />\n                            <meshBasicMaterial\n                                color={data.color}\n                                transparent\n                                opacity={0.08}\n                                blending={THREE.AdditiveBlending}\n                                side={THREE.BackSide}\n                            />\n                        </mesh>\n                    )}\n\n\n                    {data.id === 'earth' && !isFocused && (\n                        <mesh scale={[1.03, 1.03, 1.03]}>\n                            <sphereGeometry args={[data.size, 64, 64]} />\n                            <meshStandardMaterial\n                                map={texture}\n                                transparent\n                                opacity={0.2}\n                                depthWrite={false}\n                                blending={THREE.AdditiveBlending}\n                            />\n                        </mesh>\n                    )}\n\n                    {data.hasRings && (\n                        <mesh rotation={[-Math.PI / 3, 0, 0]}>\n                            <ringGeometry args={[data.size * 1.4, data.size * 2.2, 128]} />\n                            <meshStandardMaterial color={data.color} side={THREE.DoubleSide} transparent opacity={0.7} />\n                        </mesh>\n                    )}\n\n                    {data.moons?.map((moon, idx) => (\n                        <Moon key={idx} data={moon} parentSize={data.size} simTimeRef={simTimeRef} useRealDist={data.useRealDist || false} useRealSize={data.useRealSize || false} />\n                    ))}\n                </group>\n            </group>\n        </group >\n    );\n};\n\n// Fallback if textures fail\nconst PlanetFallback: React.FC<{ data: any, simTimeRef: React.MutableRefObject<number>, onSelect: (id: string) => void }> = ({ data, simTimeRef, onSelect }) => {\n    const meshRef = useRef<THREE.Mesh>(null);\n    const orbitRef = useRef<THREE.Group>(null);\n    const initialAngle = data.distance * 0.5;\n\n    useFrame(() => {\n        if (orbitRef.current) {\n            const time = simTimeRef.current;\n            const angle = initialAngle + (time * data.speed * 0.1);\n            orbitRef.current.position.x = Math.cos(angle) * data.distance;\n            orbitRef.current.position.z = Math.sin(angle) * data.distance;\n            if (meshRef.current) meshRef.current.rotation.y += data.rotationSpeed;\n        }\n    });\n\n    return (\n        <group>\n            <group ref={orbitRef}>\n                <group onClick={(e) => { e.stopPropagation(); onSelect(data.id); }}>\n                    <Text\n                        position={[0, data.size + 1.8, 0]}\n                        fontSize={Math.max(1.2, data.size * 0.5)}\n                        color=\"white\"\n                        anchorX=\"center\"\n                        anchorY=\"middle\"\n                        outlineWidth={0.05}\n                        outlineColor=\"#000000\"\n                    >\n                        {data.name}\n                    </Text>\n                    <mesh ref={meshRef}>\n                        <sphereGeometry args={[data.size, 64, 64]} />\n                        <meshPhysicalMaterial\n                            color={data.color}\n                            metalness={0.4}\n                            roughness={0.3}\n                            clearcoat={1}\n                            clearcoatRoughness={0.1}\n                        />\n                    </mesh>\n                    {data.hasRings && (\n                        <mesh rotation={[-Math.PI / 3, 0, 0]}>\n                            <ringGeometry args={[data.size * 1.4, data.size * 2.2, 64]} />\n                            <meshStandardMaterial color={data.color} side={THREE.DoubleSide} transparent opacity={0.5} />\n                        </mesh>\n                    )}\n                </group>\n            </group>\n            <mesh rotation={[Math.PI / 2, 0, 0]}>\n                <ringGeometry args={[data.distance - 0.1, data.distance + 0.1, 128]} />\n                <meshBasicMaterial color=\"#444\" side={THREE.DoubleSide} transparent opacity={0.2} />\n            </mesh>\n        </group>\n    );\n};\n\nclass PlanetErrorBoundary extends React.Component<\n    { children: React.ReactNode, data: any, simTimeRef: React.MutableRefObject<number>, onSelect: (id: string) => void },\n    { hasError: boolean }\n> {\n    constructor(props: any) {\n        super(props);\n        this.state = { hasError: false };\n    }\n    static getDerivedStateFromError(error: any) { return { hasError: true }; }\n    componentDidCatch(error: any) { console.warn(`Texture failed for ${this.props.data.name}, switching to glossy mode.`); }\n    render() {\n        if (this.state.hasError) {\n            return <PlanetFallback data={this.props.data} simTimeRef={this.props.simTimeRef} onSelect={this.props.onSelect} />;\n        }\n        return this.props.children;\n    }\n}\n\nconst CameraManager: React.FC<{ focusedId: string | null; useRealDist: boolean; useRealSize: boolean; simTimeRef: React.MutableRefObject<number> }> = ({ focusedId, useRealDist, useRealSize, simTimeRef }) => {\n    const { camera } = useThree();\n    const controlsRef = useRef<any>(null);\n    const isTransitioning = useRef(false);\n    const previousPlanetPos = useRef(new THREE.Vector3());\n\n    // Trigger transition when focusedId changes\n    useEffect(() => {\n        isTransitioning.current = true;\n    }, [focusedId]);\n\n    useFrame(() => {\n        if (!controlsRef.current) return;\n\n        if (focusedId) {\n            const planet = PLANETS.find(p => p.id === focusedId);\n            if (planet) {\n                // Calculate current position exactly as Planet component does\n                const dist = useRealDist ? planet.orbitAU * 30 : planet.distance;\n                const angle = (dist * 0.5) + (simTimeRef.current * planet.speed * 0.1);\n\n                let x = Math.cos(angle) * dist;\n                let z = Math.sin(angle) * dist;\n                let y = 0;\n\n                // Apply Inclination (Rotate around X axis)\n                if (planet.inclination) {\n                    const inc = THREE.MathUtils.degToRad(planet.inclination);\n                    y = -z * Math.sin(inc);\n                    z = z * Math.cos(inc);\n                }\n                const planetPos = new THREE.Vector3(x, y, z);\n\n                if (isTransitioning.current) {\n                    // Fly to planet\n                    const size = useRealSize ? (SUN_SIZE / 109) * planet.radiusMultiplier : planet.size;\n                    const viewDist = size * 3.0 + 3.0;\n                    const offset = new THREE.Vector3(0, viewDist * 0.5, viewDist);\n                    const idealPos = planetPos.clone().add(offset);\n\n                    camera.position.lerp(idealPos, 0.08);\n                    controlsRef.current.target.lerp(planetPos, 0.08);\n\n                    if (camera.position.distanceTo(idealPos) < 0.5) {\n                        isTransitioning.current = false;\n                        previousPlanetPos.current.copy(planetPos);\n                    }\n                } else {\n                    // Follow planet\n                    // Move camera by the delta of planet movement\n                    const delta = planetPos.clone().sub(previousPlanetPos.current);\n                    if (delta.length() < 50) { // Sanity check\n                        camera.position.add(delta);\n                    }\n                    controlsRef.current.target.copy(planetPos);\n                    previousPlanetPos.current.copy(planetPos);\n                }\n            }\n        } else {\n            if (isTransitioning.current) {\n                // Return to overview\n                const maxD = useRealDist ? 2000 : 160;\n                const resetPos = new THREE.Vector3(0, maxD * 0.8, maxD);\n                const resetTarget = new THREE.Vector3(0, 0, 0);\n                camera.position.lerp(resetPos, 0.05);\n                controlsRef.current.target.lerp(resetTarget, 0.05);\n                if (camera.position.distanceTo(resetPos) < 1.0) isTransitioning.current = false;\n            }\n        }\n        controlsRef.current.update();\n    });\n\n    const maxDistance = useRealDist ? 3000 : 300;\n\n    return (\n        <OrbitControls\n            ref={controlsRef}\n            makeDefault\n            enableDamping\n            dampingFactor={0.08}\n            enableZoom={true}\n            enablePan={true}\n            enableRotate={true}\n            minDistance={focusedId ? (useRealDist ? 0.1 : 3) : 10}\n            maxDistance={focusedId ? (useRealDist ? 500 : 80) : maxDistance}\n            rotateSpeed={0.5}\n            zoomSpeed={0.8}\n            panSpeed={0.5}\n        />\n    );\n};\n\nconst SimulationController: React.FC<{ isPlaying: boolean, speedMultiplier: number, simTimeRef: React.MutableRefObject<number> }> = ({ isPlaying, speedMultiplier, simTimeRef }) => {\n    useFrame((state, delta) => {\n        if (isPlaying) simTimeRef.current += delta * speedMultiplier;\n    });\n    return null;\n};\n\nconst UI: React.FC<{\n    focusedId: string | null;\n    onSelect: (id: string | null) => void;\n    isPlaying: boolean;\n    onTogglePlay: () => void;\n    showInfo: boolean;\n    onToggleInfo: () => void;\n    onToggleFullscreen: () => void;\n    useRealDist: boolean;\n    onToggleRealDist: () => void;\n    useRealSize: boolean;\n    onToggleRealSize: () => void;\n    showLocation: boolean;\n    onToggleLocation: () => void;\n    isMusicOn: boolean;\n    onToggleMusic: () => void;\n    simSpeed: number;\n    onToggleSpeed: () => void;\n}> = ({ focusedId, onSelect, isPlaying, onTogglePlay, showInfo, onToggleInfo, onToggleFullscreen, useRealDist, onToggleRealDist, useRealSize, onToggleRealSize, showLocation, onToggleLocation, isMusicOn, onToggleMusic, simSpeed, onToggleSpeed }) => {\n    const [showMobileMenu, setShowMobileMenu] = useState(false);\n    const [hoveredInfo, setHoveredInfo] = useState<string | null>(null);\n    const focusedPlanet = PLANETS.find(p => p.id === focusedId);\n    const isMobile = typeof window !== 'undefined' && window.innerWidth < 768;\n\n    const handleSelect = (id: string | null) => {\n        audioService.playClick();\n        onSelect(id);\n        setShowMobileMenu(false);\n    };\n\n    return (\n        <div className=\"absolute inset-0 pointer-events-none flex flex-col justify-between z-50 font-sans\">\n            {/* Mobile Info Modal */}\n            {focusedPlanet && showInfo && isMobile && (\n                <div\n                    className=\"absolute inset-0 bg-black/80 backdrop-blur-md z-50 pointer-events-auto flex items-center justify-center p-6\"\n                    onClick={() => onToggleInfo()}\n                >\n                    <div\n                        className=\"bg-black/90 backdrop-blur-xl p-6 rounded-2xl border border-white/20 shadow-2xl max-w-md w-full\"\n                        onClick={(e) => e.stopPropagation()}\n                    >\n                        <div className=\"flex justify-between items-start mb-4\">\n                            <h1 className=\"text-white text-2xl font-light tracking-wide\">{focusedPlanet.name}</h1>\n                            <button onClick={() => onToggleInfo()} className=\"text-white/60 hover:text-white text-2xl\">‚úï</button>\n                        </div>\n                        <p className=\"text-gray-300 text-sm italic mb-4 font-light\">\"{focusedPlanet.description}\"</p>\n                        <div className=\"grid grid-cols-2 gap-3 text-xs text-gray-300 mb-4\">\n                            <div className=\"flex items-center gap-2\"><span className=\"text-base\">üå°Ô∏è</span><span>{focusedPlanet.temp}</span></div>\n                            <div className=\"flex items-center gap-2\"><span className=\"text-base\">üåï</span><span>{focusedPlanet.moonsCount} Moons</span></div>\n                            <div className=\"flex items-center gap-2 col-span-2\"><span className=\"text-base\">üìè</span><span>{focusedPlanet.realSize}</span></div>\n                            <div className=\"flex items-center gap-2 col-span-2\"><span className=\"text-base\">üöÄ</span><span>Fly there: {focusedPlanet.travelTime}</span></div>\n                        </div>\n                        <div className=\"mt-3 bg-white/5 p-3 rounded-lg border border-white/10\">\n                            <span className=\"text-xs font-medium text-gray-400 uppercase block mb-1.5 tracking-wide\">Fun Fact</span>\n                            <p className=\"text-sm text-white font-light leading-relaxed\">{focusedPlanet.funFact}</p>\n                        </div>\n                    </div>\n                </div>\n            )}\n\n            {/* Top Bar */}\n            <div className=\"p-4 md:p-6 flex justify-between items-start pointer-events-auto gap-4\">\n                {/* Info Panel - Collapsible (Desktop Only) */}\n                {!isMobile && (\n                    <div className={`transition-all duration-500 ${focusedPlanet && showInfo ? 'opacity-100 translate-x-0' : 'opacity-0 -translate-x-8 pointer-events-none'} bg-black/40 backdrop-blur-md p-5 rounded-xl border border-white/10 shadow-2xl max-w-sm`}>\n                        <h1 className=\"text-white text-2xl font-light tracking-wide mb-3\">\n                            {focusedPlanet?.name}\n                        </h1>\n                        <p className=\"text-gray-300 text-sm italic mb-4 font-light\">\"{focusedPlanet?.description}\"</p>\n                        <div className=\"grid grid-cols-2 gap-3 text-xs text-gray-300 mb-4\">\n                            <div className=\"flex items-center gap-2\"><span className=\"text-base\">üå°Ô∏è</span><span>{focusedPlanet?.temp}</span></div>\n                            <div className=\"flex items-center gap-2\"><span className=\"text-base\">üåï</span><span>{focusedPlanet?.moonsCount} Moons</span></div>\n                            <div className=\"flex items-center gap-2 col-span-2\"><span className=\"text-base\">üìè</span><span>{focusedPlanet?.realSize}</span></div>\n                            <div className=\"flex items-center gap-2 col-span-2\"><span className=\"text-base\">üöÄ</span><span>Fly there: {focusedPlanet?.travelTime}</span></div>\n                        </div>\n                        <div className=\"mt-3 bg-white/5 p-3 rounded-lg border border-white/10\">\n                            <span className=\"text-xs font-medium text-gray-400 uppercase block mb-1.5 tracking-wide\">Fun Fact</span>\n                            <p className=\"text-sm text-white font-light leading-relaxed\">{focusedPlanet?.funFact}</p>\n                        </div>\n                    </div>\n                )}\n\n                {/* Info Toggle Button */}\n                {focusedPlanet && (\n                    <button\n                        onClick={onToggleInfo}\n                        className=\"bg-black/40 backdrop-blur-md border border-white/10 text-white px-3 py-2 md:px-4 md:py-3 rounded-lg hover:bg-white/10 transition-all duration-300 shadow-lg\"\n                        title={showInfo ? 'Hide Info' : 'Show Info'}\n                    >\n                        <span className=\"text-lg md:text-xl\">{showInfo ? '‚úï' : '‚ìò'}</span>\n                    </button>\n                )}\n\n                <div className=\"flex-1\"></div>\n                {/* Control Buttons & Tooltip */}\n                <div className=\"flex flex-col items-end gap-2\">\n                    <div className=\"flex gap-3\">\n                        <div className=\"hidden md:flex gap-3\">\n                            <button\n                                onClick={() => { audioService.playClick(); onTogglePlay(); }}\n                                onMouseEnter={() => setHoveredInfo(\"Pause/Resume Time\")}\n                                onMouseLeave={() => setHoveredInfo(null)}\n                                className={`${isPlaying ? 'bg-white/10 hover:bg-white/15' : 'bg-white/20 hover:bg-white/25'} backdrop-blur-md border border-white/20 text-white px-6 py-3 rounded-lg transition-all duration-300 hover:scale-105 active:scale-95 shadow-lg flex items-center gap-2`}\n                            >\n                                <span className=\"text-lg flex items-center justify-center w-5\">{isPlaying ? <div className=\"flex gap-1\"><div className=\"w-1.5 h-4 bg-white rounded-sm\"></div><div className=\"w-1.5 h-4 bg-white rounded-sm\"></div></div> : \"‚ñ∂Ô∏é\"}</span>\n                                <span className=\"text-sm font-light tracking-wide\">{isPlaying ? \"Pause Time\" : \"Resume Time\"}</span>\n                            </button>\n\n                            <button\n                                onClick={onToggleRealDist}\n                                onMouseEnter={() => setHoveredInfo(\"Scale distances to true reality (Planets far apart)\")}\n                                onMouseLeave={() => setHoveredInfo(null)}\n                                className={`${useRealDist ? 'bg-white/10 border-white/40' : 'bg-black/20 border-white/10'} backdrop-blur-md border text-white px-4 py-3 rounded-lg transition-all duration-300 hover:bg-white/10`}\n                            >\n                                <span className=\"text-sm\">üìè</span>\n                            </button>\n                            <button\n                                onClick={onToggleRealSize}\n                                onMouseEnter={() => setHoveredInfo(\"Scale planets to real relative sizes\")}\n                                onMouseLeave={() => setHoveredInfo(null)}\n                                className={`${useRealSize ? 'bg-white/10 border-white/40' : 'bg-black/20 border-white/10'} backdrop-blur-md border text-white px-4 py-3 rounded-lg transition-all duration-300 hover:bg-white/10`}\n                            >\n                                <span className=\"text-sm\">‚ö™</span>\n                            </button>\n                            <button\n                                onClick={onToggleLocation}\n                                onMouseEnter={() => setHoveredInfo(\"Show my location on Earth\")}\n                                onMouseLeave={() => setHoveredInfo(null)}\n                                className={`${showLocation ? 'bg-white/10 border-white/40' : 'bg-black/20 border-white/10'} backdrop-blur-md border text-white px-4 py-3 rounded-lg transition-all duration-300 hover:bg-white/10`}\n                            >\n                                <span className=\"text-sm\">‚ö≤</span>\n                            </button>\n                            <button\n                                onClick={onToggleMusic}\n                                onMouseEnter={() => setHoveredInfo(\"Ambient Space Music\")}\n                                onMouseLeave={() => setHoveredInfo(null)}\n                                className={`${isMusicOn ? 'bg-white/10 border-white/40' : 'bg-black/20 border-white/10'} backdrop-blur-md border text-white px-4 py-3 rounded-lg transition-all duration-300 hover:bg-white/10`}\n                            >\n                                <span className=\"text-sm\">‚ô¨</span>\n                            </button>\n                            <button\n                                onClick={onToggleSpeed}\n                                onMouseEnter={() => setHoveredInfo(\"Toggle Time Speed\")}\n                                onMouseLeave={() => setHoveredInfo(null)}\n                                className=\"bg-black/20 backdrop-blur-md border border-white/10 text-white px-4 py-3 rounded-lg transition-all duration-300 hover:bg-white/10\"\n                            >\n                                <span className=\"text-sm font-mono\">{TIME_SPEEDS.find(s => s.value === simSpeed)?.label}</span>\n                            </button>\n                        </div>\n\n                        <button\n                            onClick={onToggleFullscreen}\n                            onMouseEnter={() => setHoveredInfo(\"Toggle Fullscreen\")}\n                            onMouseLeave={() => setHoveredInfo(null)}\n                            className=\"bg-white/10 hover:bg-white/15 backdrop-blur-md border border-white/20 text-white px-4 py-3 rounded-lg transition-all duration-300 hover:scale-105 active:scale-95 shadow-lg\"\n                        >\n                            <span className=\"text-lg\">‚õ∂</span>\n                        </button>\n                    </div>\n                    {!isMobile && hoveredInfo && (\n                        <div className=\"bg-black/80 backdrop-blur-md text-white text-xs px-3 py-1.5 rounded-md border border-white/20 shadow-xl tracking-wide font-light animate-in fade-in slide-in-from-top-1 duration-200\">\n                            {hoveredInfo}\n                        </div>\n                    )}\n                </div>\n            </div>\n\n            {/* Navigation - Desktop */}\n            <div className=\"hidden md:block pointer-events-auto bg-black/60 backdrop-blur-lg border-t border-white/10 overflow-x-auto pb-4 shadow-2xl\">\n                <div className=\"flex items-center gap-3 p-4 min-w-max mx-auto justify-center\">\n                    <button onClick={() => handleSelect(null)} className={`flex flex-col items-center justify-center w-20 h-20 rounded-xl transition-all duration-300 ${!focusedId ? 'bg-white/20 scale-105 ring-2 ring-white/30' : 'bg-white/5 hover:bg-white/10 border border-white/10'}`}>\n                        {/* Sun Texture for Home Button */}\n                        <div className=\"w-10 h-10 rounded-full mb-1 shadow-md ring-1 ring-white/20 overflow-hidden relative\">\n                            <img src=\"/textures/Sun.jpg\" alt=\"Sun\" className=\"w-full h-full object-cover\" />\n                        </div>\n                        <span className=\"text-[10px] font-light text-white uppercase tracking-wider\">Sun</span>\n                    </button>\n                    <div className=\"w-[1px] h-12 bg-white/10 mx-2\"></div>\n                    {PLANETS.map((planet) => (\n                        <button key={planet.id} onClick={() => handleSelect(planet.id)} className={`flex flex-col items-center justify-center w-16 h-16 rounded-xl transition-all duration-300 border relative ${focusedId === planet.id ? 'border-white/40 bg-white/10 scale-105 -translate-y-1 shadow-xl z-10' : 'border-white/10 hover:bg-white/5 opacity-70 hover:opacity-100 hover:scale-105'}`}>\n                            {/* Planet Texture for Buttons */}\n                            <div className=\"w-8 h-8 rounded-full mb-1 shadow-md ring-1 ring-white/20 overflow-hidden relative\" style={{ boxShadow: `0 0 10px ${planet.color}40` }}>\n                                <img src={planet.textureUrl} alt={planet.name} className=\"w-full h-full object-cover\" />\n                            </div>\n                            <span className=\"text-[9px] font-light text-white uppercase tracking-wide\">{planet.name}</span>\n                            {focusedId === planet.id && <div className=\"absolute -bottom-1.5 w-1 h-1 bg-white rounded-full animate-pulse\"></div>}\n                        </button>\n                    ))}\n                </div>\n            </div>\n\n            {/* Mobile Navigation - Burger Menu */}\n            <div className=\"md:hidden pointer-events-auto\">\n                {/* Burger Button */}\n                <button\n                    onClick={() => setShowMobileMenu(!showMobileMenu)}\n                    className=\"absolute bottom-4 right-4 bg-black/60 backdrop-blur-lg border border-white/20 text-white p-4 rounded-full shadow-2xl z-40\"\n                >\n                    <span className=\"text-2xl\">{showMobileMenu ? '‚úï' : '‚ò∞'}</span>\n                </button>\n\n                {showMobileMenu && (\n                    <div className=\"absolute bottom-20 right-4 bg-black/90 backdrop-blur-xl border border-white/20 rounded-2xl p-4 shadow-2xl z-40\">\n                        {/* Mobile Controls */}\n                        <div className=\"grid grid-cols-6 gap-2 mb-4 pb-4 border-b border-white/10\">\n                            <button onClick={() => { audioService.playClick(); onTogglePlay(); }} className={`col-span-1 flex flex-col items-center justify-center w-10 h-10 rounded-lg text-white ${isPlaying ? 'bg-white/20' : 'bg-white/5'}`}>\n                                <span className=\"text-lg flex items-center justify-center w-full h-full\">{isPlaying ? <div className=\"flex gap-1\"><div className=\"w-1 h-3 bg-white rounded-sm\"></div><div className=\"w-1 h-3 bg-white rounded-sm\"></div></div> : \"‚ñ∂Ô∏é\"}</span>\n                            </button>\n                            <button onClick={onToggleRealDist} className={`col-span-1 flex flex-col items-center justify-center w-10 h-10 rounded-lg text-white ${useRealDist ? 'bg-white/20' : 'bg-white/5'}`}>\n                                <span className=\"text-sm\">üìè</span>\n                            </button>\n                            <button onClick={onToggleRealSize} className={`col-span-1 flex flex-col items-center justify-center w-10 h-10 rounded-lg text-white ${useRealSize ? 'bg-white/20' : 'bg-white/5'}`}>\n                                <span className=\"text-sm\">‚ö™</span>\n                            </button>\n                            <button onClick={onToggleLocation} className={`col-span-1 flex flex-col items-center justify-center w-10 h-10 rounded-lg text-white ${showLocation ? 'bg-white/20' : 'bg-white/5'}`}>\n                                <span className=\"text-sm\">‚ö≤</span>\n                            </button>\n                            <button onClick={onToggleMusic} className={`col-span-1 flex flex-col items-center justify-center w-10 h-10 rounded-lg text-white ${isMusicOn ? 'bg-white/20' : 'bg-white/5'}`}>\n                                <span className=\"text-sm\">‚ô¨</span>\n                            </button>\n                            <button onClick={onToggleSpeed} className={`col-span-1 flex flex-col items-center justify-center w-10 h-10 rounded-lg text-white bg-white/5`}>\n                                <span className=\"text-xs font-mono\">{TIME_SPEEDS.find(s => s.value === simSpeed)?.label}</span>\n                            </button>\n                        </div>\n                        <div className=\"grid grid-cols-3 gap-3\">\n                            <button onClick={() => handleSelect(null)} className={`flex flex-col items-center justify-center w-16 h-16 rounded-xl transition-all duration-300 ${!focusedId ? 'bg-white/20 ring-2 ring-white/30' : 'bg-white/5 border border-white/10'}`}>\n                                <div className=\"w-8 h-8 rounded-full mb-1 shadow-md ring-1 ring-white/20 overflow-hidden relative\">\n                                    <img src=\"/textures/Sun.jpg\" alt=\"Sun\" className=\"w-full h-full object-cover\" />\n                                </div>\n                                <span className=\"text-[8px] font-light text-white uppercase\">Sun</span>\n                            </button>\n                            {PLANETS.map((planet) => (\n                                <button key={planet.id} onClick={() => handleSelect(planet.id)} className={`flex flex-col items-center justify-center w-16 h-16 rounded-xl transition-all duration-300 border ${focusedId === planet.id ? 'border-white/40 bg-white/10' : 'border-white/10 bg-white/5'}`}>\n                                    <div className=\"w-6 h-6 rounded-full mb-1 shadow-md ring-1 ring-white/20 overflow-hidden relative\" style={{ boxShadow: `0 0 5px ${planet.color}40` }}>\n                                        <img src={planet.textureUrl} alt={planet.name} className=\"w-full h-full object-cover\" />\n                                    </div>\n                                    <span className=\"text-[8px] font-light text-white uppercase\">{planet.name}</span>\n                                </button>\n                            ))}\n                        </div>\n                        <a href=\"https://exhaustedrocket.com\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"block mt-4 text-center text-[10px] text-white/40 hover:text-white transition-colors\">\n                            Product of exhaustedrocket.com\n                        </a>\n                    </div>\n                )}\n            </div>\n\n            {/* Desktop Footer Link */}\n            <a href=\"https://exhaustedrocket.com\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"hidden md:block absolute bottom-1 right-2 text-[10px] text-white/20 hover:text-white/60 z-50 pointer-events-auto transition-colors\">\n                Product of exhaustedrocket.com\n            </a>\n        </div>\n    );\n};\n\n// --- MAIN COMPONENT ---\nexport default function SolarSystem() {\n    const [focusedId, setFocusedId] = useState<string | null>(null);\n    const [isPlaying, setIsPlaying] = useState(true);\n    const [showInfo, setShowInfo] = useState(false);\n    const [useRealDist, setUseRealDist] = useState(false);\n    const [useRealSize, setUseRealSize] = useState(false);\n    const [showLocation, setShowLocation] = useState(false);\n    const [userLocation, setUserLocation] = useState<{ lat: number, long: number } | null>(null);\n    const [isMusicOn, setIsMusicOn] = useState(false);\n    const [simSpeed, setSimSpeed] = useState(86400); // Default 1 Day/s\n    const simTimeRef = useRef(0);\n\n    // Audio Drone\n    useEffect(() => {\n        if (isMusicOn) audioService.startDrone();\n        else audioService.stopDrone();\n        return () => audioService.stopDrone();\n    }, [isMusicOn]);\n\n    // Prevent Browser Zoom on Trackpad\n    useEffect(() => {\n        const handleWheel = (e: WheelEvent) => { if (e.ctrlKey) e.preventDefault(); };\n        if (typeof window !== 'undefined') window.addEventListener('wheel', handleWheel, { passive: false });\n\n        return () => {\n            if (typeof window !== 'undefined') window.removeEventListener('wheel', handleWheel);\n        };\n    }, []);\n\n    // Keyboard Navigation\n    useEffect(() => {\n        const handleKeyDown = (e: KeyboardEvent) => {\n            if (e.key === 'Escape') setFocusedId(null);\n            else if (e.key === ' ') setIsPlaying(p => !p);\n            else if (e.key === 'ArrowRight' || e.key === 'ArrowLeft') {\n                const idx = PLANETS.findIndex(p => p.id === focusedId);\n                let nextIdx = 0;\n                if (e.key === 'ArrowRight') nextIdx = idx === -1 ? 0 : (idx + 1) % PLANETS.length;\n                else nextIdx = idx === -1 ? PLANETS.length - 1 : (idx - 1 + PLANETS.length) % PLANETS.length;\n                setFocusedId(PLANETS[nextIdx].id);\n            }\n        };\n        window.addEventListener('keydown', handleKeyDown);\n        return () => window.removeEventListener('keydown', handleKeyDown);\n    }, [focusedId]);\n\n    const toggleLocation = () => {\n        if (!showLocation) {\n            if (typeof navigator !== 'undefined' && navigator.geolocation) {\n                navigator.geolocation.getCurrentPosition(\n                    (pos) => {\n                        setUserLocation({ lat: pos.coords.latitude, long: pos.coords.longitude });\n                        setShowLocation(true);\n                    },\n                    (err) => { console.warn(\"Geo error\", err); alert(\"Could not get location. Allow permissions.\"); }\n                );\n            } else { alert(\"Geolocation not supported\"); }\n        } else {\n            setShowLocation(false);\n        }\n    };\n    const containerRef = useRef<HTMLDivElement>(null);\n\n    // Calculate display data based on toggles\n    const activePlanets = useMemo(() => {\n        return PLANETS.map(p => ({\n            ...p,\n            distance: useRealDist ? p.orbitAU * 30 : p.distance, // Scale AU by 30\n            size: useRealSize ? (SUN_SIZE / 109) * p.radiusMultiplier : p.size, // Scale relative to Sun (Size 7)\n            useRealDist,\n            useRealSize\n        }));\n    }, [useRealDist, useRealSize]);\n\n    // Fullscreen handler\n    const toggleFullscreen = () => {\n        if (!containerRef.current) return;\n        if (!document.fullscreenElement) {\n            containerRef.current.requestFullscreen().then(() => {\n                // Attempt to lock orientation to landscape on mobile\n                if (screen.orientation && 'lock' in screen.orientation) {\n                    // @ts-ignore\n                    (screen.orientation as any).lock('landscape').catch((e: any) => console.log('Orientation lock failed:', e));\n                }\n            }).catch(err => {\n                console.log('Fullscreen error:', err);\n            });\n        } else {\n            document.exitFullscreen();\n            if (screen.orientation && 'unlock' in screen.orientation) {\n                screen.orientation.unlock();\n            }\n        }\n    };\n\n    return (\n        <div ref={containerRef} className=\"w-full h-screen relative bg-black overflow-hidden select-none touch-action-none\">\n\n            <Canvas\n                camera={{ position: [0, 60, 80], fov: 45 }}\n                dpr={[1, 2]}\n                gl={{ antialias: true, toneMappingExposure: 1.2 }}\n            >\n                <Suspense fallback={null}>\n                    <SimulationController isPlaying={isPlaying} speedMultiplier={simSpeed} simTimeRef={simTimeRef} />\n                    <Stars radius={useRealDist ? 2000 : 200} depth={100} count={20000} factor={8} saturation={0} fade speed={0.3} />\n\n                    <AsteroidBelt useRealDist={useRealDist} isPlaying={isPlaying} />\n                    <Sun useRealSize={useRealSize} />\n                    {activePlanets.map((planet) => (\n                        <PlanetErrorBoundary key={planet.id} data={planet} simTimeRef={simTimeRef} onSelect={setFocusedId}>\n                            <Planet\n                                data={planet}\n                                isFocused={focusedId === planet.id}\n                                onSelect={setFocusedId}\n                                simTimeRef={simTimeRef}\n                                isPlaying={isPlaying}\n                                userLocation={showLocation ? userLocation : null}\n                            />\n                        </PlanetErrorBoundary>\n                    ))}\n                    <CameraManager focusedId={focusedId} useRealDist={useRealDist} useRealSize={useRealSize} simTimeRef={simTimeRef} />\n                    <Preload all />\n                </Suspense>\n            </Canvas>\n            <Loader />\n            <UI\n                focusedId={focusedId}\n                onSelect={setFocusedId}\n                isPlaying={isPlaying}\n                onTogglePlay={() => setIsPlaying(!isPlaying)}\n                showInfo={showInfo}\n                onToggleInfo={() => setShowInfo(!showInfo)}\n                onToggleFullscreen={toggleFullscreen}\n                showLocation={showLocation}\n                onToggleLocation={toggleLocation}\n                isMusicOn={isMusicOn}\n                onToggleMusic={() => setIsMusicOn(!isMusicOn)}\n                simSpeed={simSpeed}\n                onToggleSpeed={() => {\n                    const currentIndex = TIME_SPEEDS.findIndex(s => s.value === simSpeed);\n                    const nextIndex = (currentIndex + 1) % TIME_SPEEDS.length;\n                    setSimSpeed(TIME_SPEEDS[nextIndex].value);\n                }}\n                useRealDist={useRealDist}\n                onToggleRealDist={() => setUseRealDist(!useRealDist)}\n                useRealSize={useRealSize}\n                onToggleRealSize={() => setUseRealSize(!useRealSize)}\n            />\n        </div>\n    );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}